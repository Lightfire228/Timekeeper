<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns        = "http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x      = "http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:models = "clr-namespace:Tk.App.ViewModels"
    x:Class      = "Tk.App.Pages.TaskListPage"
>
    <Grid RowDefinitions="*, Auto">

        <CollectionView
            VerticalOptions  = "Fill"
            ItemsSource      = "{Binding}"
            SelectionMode    = "Single"
        >
            <!-- SelectionChanged = "CollectionView_SelectionChanged" -->


            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="models:TaskListViewModel">
    
                    <Grid
                        ColumnDefinitions = "*, Auto, 20"
                        Padding           = "20"
                    >
                        <Label Text="{Binding Name}"    FontSize="14" Grid.Column="0"/>
                        <Label Text="{Binding DueDate}" FontSize="11" Grid.Column="1" HorizontalTextAlignment="End"/>
                        <Label Text="✔️"                FontSize="11" Grid.Column="2" HorizontalTextAlignment="End" IsVisible="{Binding Complete}"/>
                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        
        </CollectionView>

        <Button 
            Grid.Row = "1"
            Text     = "Add new Task"
            Margin   = "20"
            Clicked  = "NewTask"
        />
        <Button 
            Grid.Row = "2"
            Text     = "Test Notification"
            Margin   = "20"
            Clicked  = "Notification"
        />
            
    </Grid>

</ContentPage>
